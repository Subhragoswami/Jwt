package com.epay.reporting.mapper;

import com.epay.reporting.dto.ReportScheduleManagementDto;
import com.epay.reporting.entity.ReportScheduleManagement;
import com.epay.reporting.model.request.ReportScheduleManagementRequest;
import com.epay.reporting.model.response.ReportScheduleManagementResponse;
import org.mapstruct.AfterMapping;
import org.mapstruct.Builder;
import org.mapstruct.Mapper;

import java.util.List;

/**
 * Class Name: ReportMasterMapper
 * *
 * Description:
 * *
 * Author: V1018344
 * Copyright (c) 2025 [State Bank of India]
 * ALl rights reserved
 * *
 * Version: 1.0
 */

@Mapper(builder = @Builder(disableBuilder = true), componentModel = "spring")
public interface ReportScheduleManagementMapper {

    ReportScheduleManagementDto mapEntityToDto(ReportScheduleManagement reportScheduleManagement);

    ReportScheduleManagement mapDtoToEntity(ReportScheduleManagementDto reportScheduleManagementDto);

    List<ReportScheduleManagementResponse> mapDtoListToResponseList(List<ReportScheduleManagementDto> reportScheduleManagementDto);

    ReportScheduleManagementDto mapRequestToDto(ReportScheduleManagementRequest reportScheduleManagementRequest);

    ReportScheduleManagementResponse mapEntityToResponse(ReportScheduleManagement reportScheduleManagement);
}


@Data
@AllArgsConstructor
@NoArgsConstructor
@Builder
@JsonInclude(JsonInclude.Include.NON_NULL)
public class ReportScheduleManagementDto {

    @JsonIgnore
    private UUID id;
    @JsonIgnore
    private UUID reportId;
    private Report report;
    private String mId;
    private Frequency frequency;
    private ReportFormat format;
    private String scheduleExecutionTime;
    private Long nextScheduleExecutionTime;
    private Long lastScheduleExecutionTime;
    private ReportScheduledStatus status;
}


@EqualsAndHashCode(callSuper = true)
@Data
@Entity
@Table(name = "REPORT_SCHEDULE_MANAGEMENT")
public class ReportScheduleManagement extends AuditEntity {
    @Id
    @GeneratedValue(strategy = GenerationType.UUID)
    @Column(name = "ID", nullable = false, updatable = false, unique = true)
    private UUID id;

    private UUID reportId;

    @Column(name = "MID")
    private String mId;

    @Enumerated(EnumType.STRING)
    private Frequency frequency;
    @Enumerated(EnumType.STRING)
    private ReportFormat format;

    private String scheduleExecutionTime;
    private Long nextScheduleExecutionTime;
    private Long lastScheduleExecutionTime;

    @Enumerated(EnumType.STRING)
    private ReportScheduledStatus status;

    private boolean scheduleCheck;
}

@AllArgsConstructor
@Getter
@Setter
@ToString
@Builder
@NoArgsConstructor
@JsonInclude(JsonInclude.Include.NON_NULL)
public class ReportScheduleManagementResponse {

    private UUID scheduleRequestId;
    private Report report;
    private String mId;
    private Frequency frequency;
    private String scheduleExecutionTime;
    private Long nextScheduleExecutionTime;
    private Long lastScheduleExecutionTime;
    private ReportScheduledStatus status;

}


here while converting to ReportScheduleManagementResponse I need to set id as scheduleRequestId ;  
