{
    "status": 0,
    "errors": [
        {
            "errorCode": "500",
            "errorMessage": "Can't convert value of class com.epay.merchant.dto.MerchantEmailDto to class org.apache.kafka.common.serialization.StringSerializer specified in value.serializer"
        }
    ]
}





@Bean
public ProducerFactory<String, MerchantEmailDto> producerFactory() {
    Map<String, Object> configProps = new HashMap<>();
    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);
    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);
    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class); // Use JSON serializer
    return new DefaultKafkaProducerFactory<>(configProps);
}

@Bean
public KafkaTemplate<String, MerchantEmailDto> kafkaTemplate() {
    return new KafkaTemplate<>(producerFactory());
}
