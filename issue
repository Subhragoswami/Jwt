public interface OtpManagementRepository extends JpaRepository<OtpManagement, UUID> {

    Optional<OtpManagement> getByUserIdAndRequestIdAndOtpCodeAndRequestType(UUID userId, UUID requestId, String otpCode, String requestType);

    @Query("SELECT x FROM /Merchant_Otp_Management x WHERE x.requestId = $1 ORDER BY expiryTime DESC LIMIT 1")
    Optional<OtpManagement> findTopByRequestIdOrderByExpiryTimeDesc(UUID requestId);

    @Query("SELECT x FROM /Merchant_Otp_Management x WHERE x.requestType = $1 AND x.userId = $2 ORDER BY expiryTime DESC LIMIT 1")
    Optional<OtpManagement> findTopByRequestTypeAndUserIdOrderByExpiryTimeDesc(String requestType, UUID userId);

}


please create jpa query for this


public interface OtpManagementRepository extends JpaRepository<OtpManagement, UUID> {

    Optional<OtpManagement> getByUserIdAndRequestIdAndOtpCodeAndRequestType(UUID userId, UUID requestId, String otpCode, String requestType);

    Optional<OtpManagement> findTopByRequestIdOrderByExpiryTimeDesc(UUID requestId);

    Optional<OtpManagement> findTopByRequestTypeAndUserIdOrderByExpiryTimeDesc(String requestType, UUID userId);
}
