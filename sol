CREATE TABLE MERCHANT_USER (
    ID                      RAW(16) DEFAULT SYS_GUID() PRIMARY KEY,
    PARENT_USERID           VARCHAR2(50),
    USER_NAME               VARCHAR2(200) NOT NULL UNIQUE,
    FIRST_NAME              VARCHAR2(100) NOT NULL,
    MIDDLE_NAME             VARCHAR2(50),
    LAST_NAME               VARCHAR2(100) NOT NULL,
    EMAIL                   VARCHAR2(100) NOT NULL UNIQUE,
    PRIMARY_PHONE           VARCHAR2(20) NOT NULL,
    SECONDARY_PHONE         VARCHAR2(20),
    MOBILE_PHONE            VARCHAR2(20) NOT NULL UNIQUE,
    OFFICE_PHONE            VARCHAR2(20),
    COUNTRY_CODE            VARCHAR2(10),
    STATE_CODE              VARCHAR2(10),
    PIN_CODE                VARCHAR2(10),
    CITY                    VARCHAR2(50),
    ROLE                    VARCHAR2(50) NOT NULL,
    STATUS                  VARCHAR2(50) NOT NULL,
    PASSWORD                VARCHAR2(500) NOT NULL,
    LAST_PASSWORD_CHANGE    LONG,
    PASSWORD_EXPIRY_TIME    NUMBER NOT NULL,
    LOGIN_FAIL_ATTEMPT      NUMBER,
    LAST_SUCCESS_LOGIN      NUMBER,
    LAST_FAIL_LOGIN         NUMBER,
    CREATED_BY              VARCHAR2(50) NOT NULL,
    CREATED_AT              NUMBER NOT NULL,
    UPDATED_BY              VARCHAR2(50) NOT NULL,
    UPDATED_AT              NUMBER NOT NULL
);





CREATE TABLE MERCHANT_ENTITY_USER (
    ID RAW(16) DEFAULT SYS_GUID() PRIMARY KEY NOT NULL,
    USER_ID RAW(16)  NOT NULL,
    ENTITY_ID VARCHAR2(50),
    MID VARCHAR2(50),
    CREATED_BY	VARCHAR2(50)NOT NULL,
    CREATED_AT	NUMBER NOT NULL,
    UPDATED_BY	VARCHAR2(50) NOT NULL,
    UPDATED_AT	NUMBER NOT NULL,
    CONSTRAINT FK_MERCHANT_ENTITY_USER_ID  FOREIGN KEY (USER_ID) REFERENCES MERCHANT_USER(ID), -- Foreign Key to `MERCHANT USER` table
    CONSTRAINT FK_MERCHANT_ENTITY_USER_MID  FOREIGN KEY (MID) REFERENCES MERCHANT_INFO(MID) -- Foreign Key to `MERCHANT Info` table
);



CREATE TABLE MERCHANT_ENTITY_GROUP (
    ID RAW(16)  DEFAULT SYS_GUID() PRIMARY KEY,
    MID VARCHAR2(50) NOT NULL,
    ENTITY_ID VARCHAR2(50) NOT NULL,
    CREATED_BY	VARCHAR2(50) NOT NULL,
    CREATED_AT	NUMBER NOT NULL,
    UPDATED_BY	VARCHAR2(50) NOT NULL,
    UPDATED_AT	NUMBER NOT NULL,
    CONSTRAINT UK_MERCHANT_ENTITY_GROUP UNIQUE (MID, ENTITY_ID), -- Unique KEY
    CONSTRAINT FK_MERCHANT_ENTITY_GROUP FOREIGN KEY (MID) REFERENCES MERCHANT_INFO(MID) -- Foreign Key to `merchant_info` table
);
